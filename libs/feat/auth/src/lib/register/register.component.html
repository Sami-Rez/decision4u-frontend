<div class="image">
  <img src="https://blog.vantagecircle.com/content/images/size/w1000/2020/12/Decision-making.png">
</div>

<div>
  <a routerLink="../login"> Go to Login </a>
  <!--	<mat-card>-->
  <!--		<mat-card-title>Register</mat-card-title>-->
  <!--		<mat-card-content>-->

  <h1>Register with Decison4U</h1>
  <form (ngSubmit)="onRegister()" [formGroup]="registerForm">
    <!--  FIRSTNAME    -->
    <div>
      <mat-form-field>
        <mat-label>Enter your first name</mat-label>
        <input matInput formControlName="firstName" required />
        <mat-error *ngIf="hasControlError('firstName')">
          {{ getControlErrorMessage('firstName') }}
        </mat-error>
      </mat-form-field>
    </div>

    <!--  LASTNAME    -->
    <div>
      <mat-form-field>
        <mat-label>Enter your last name</mat-label>
        <input matInput formControlName="lastName" required />
        <mat-error *ngIf="hasControlError('lastName')">
          {{ getControlErrorMessage('lastName') }}
        </mat-error>
      </mat-form-field>
    </div>

    <!--  EMAIL    -->
    <div>
      <mat-form-field>
        <mat-label>Enter your email</mat-label>
        <input matInput placeholder="pat@example.com" formControlName="email" required />
        <mat-error *ngIf="hasControlError('email')">
          {{ getControlErrorMessage('email') }}
        </mat-error>
      </mat-form-field>
    </div>

    <!--  PASSWORD  -->
    <div>
      <mat-form-field>
        <mat-label>Enter your password</mat-label>
        <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" />
        <button
          type="button"
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <mat-error *ngIf="hasControlError('password')">
          {{ getControlErrorMessage('password') }}
        </mat-error>
      </mat-form-field>
    </div>

    <!--  CONFIRM PASSWORD  -->
    <div>
      <mat-form-field>
        <mat-label>Confirm Password</mat-label>
        <input matInput type="password" formControlName="passwordConfirm" />
        <mat-error *ngIf="hasControlError('passwordConfirm')">
          {{ getControlErrorMessage('passwordConfirm') }}
        </mat-error>
      </mat-form-field>
    </div>

    <!-- STRENGTH BAR  -->
    <ui-password-strength-bar [password]="getControlByName('password').value">
    </ui-password-strength-bar>

    <!--  REGISTER BUTTON -->
    <div>
      <button [disabled]="registerForm.invalid" type="submit" mat-raised-button color="primary">
        Register
      </button>
    </div>
  </form>
  <!--		</mat-card-content>-->
  <!--	</mat-card>-->
</div>

<!-- Alternative of mat-error handling -->
<!-- without hasError and getErrorMessage -->

<!--<mat-error-->
<!--  *ngIf="-->
<!--  registerForm.get('email')?.touched &&-->
<!--  registerForm.get('email')?.hasError('required')">-->
<!--  Email is required-->
<!--</mat-error>-->
<!--<mat-error-->
<!--  *ngIf="-->
<!--  registerForm.get('email')?.touched &&-->
<!--  registerForm.get('email')?.hasError('email')">-->
<!--  Email must be a valid email-->
<!--</mat-error>-->
